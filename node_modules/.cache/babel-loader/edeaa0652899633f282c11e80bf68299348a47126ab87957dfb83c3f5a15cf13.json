{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useSelector } from 'react-redux';\nimport { selectControlInfo } from '../control/control-slice';\nimport { selectOpeningInfo } from '../opening/opening-slice';\nimport { addZero, printTg } from '../../static/helpers/var';\nexport const useCopyStaff = (staffPerson, title) => {\n  _s();\n  const {\n    qualities,\n    stand,\n    tg,\n    priority,\n    effect\n  } = useSelector(store => selectControlInfo(store).controls);\n  const {\n    isInside,\n    openingTitle,\n    jiraId,\n    startTime,\n    systemAdmins,\n    openingDescription\n  } = useSelector(store => selectOpeningInfo(store).data);\n  const inside = isInside ? `**ВНУТРЕННИЙ**\\n` : '';\n  const standOut = stand ? `${stand} ` : '';\n  const qualitiesOut = qualities ? `${qualities}` : '';\n  const person = staffPerson.filter(i => i.selected).map(i => i.userName).join(' ').trim();\n  const printTgTxt = printTg(tg);\n  const hourStart = new Date(Date.parse(startTime)).getHours();\n  const minutesStart = new Date(Date.parse(startTime)).getMinutes();\n  const str = `**FYI**` + `\\n` + `\\n${person}` + `\\n` + `\\n${inside}` + `**Инцидент ОТКРЫТ**` + `\\n**${standOut}${qualitiesOut}**` + `\\n` + `\\n**${openingTitle}**` + `\\n**ТГ:** ${printTgTxt}` + `\\n` + `\\n**Приоритет:** ${priority}` + `\\n**Степень влияния:** ${effect}` + `\\nhttps://jira.crpt.ru/browse/OPS-${jiraId}` + `\\n**Время инцидента:** ${addZero(hourStart)}:${addZero(minutesStart)}` + `\\n**Кто оповещён:** ${systemAdmins}` + `\\n` + `\\n**Примечание:** ${openingDescription}`;\n  const copySummary = () => {\n    navigator.clipboard.writeText(str);\n    document.execCommand(\"copy\");\n  };\n  return {\n    copySummary\n  };\n};\n_s(useCopyStaff, \"ArMPNqnMtdqW6p6NssucpQ9xyQQ=\", false, function () {\n  return [useSelector, useSelector];\n});","map":{"version":3,"names":["useSelector","selectControlInfo","selectOpeningInfo","addZero","printTg","useCopyStaff","staffPerson","title","_s","qualities","stand","tg","priority","effect","store","controls","isInside","openingTitle","jiraId","startTime","systemAdmins","openingDescription","data","inside","standOut","qualitiesOut","person","filter","i","selected","map","userName","join","trim","printTgTxt","hourStart","Date","parse","getHours","minutesStart","getMinutes","str","copySummary","navigator","clipboard","writeText","document","execCommand"],"sources":["/Users/admin/developing/Temp-March-31/src/features/staff/use-copy-staff.js"],"sourcesContent":["import { useSelector } from 'react-redux'\nimport { selectControlInfo } from '../control/control-slice'\nimport { selectOpeningInfo } from '../opening/opening-slice'\nimport { addZero, printTg } from '../../static/helpers/var'\n\nexport const useCopyStaff = (staffPerson, title) => {\n    const { qualities, stand, tg, priority, effect } = useSelector(store => selectControlInfo(store).controls)\n    const { isInside, openingTitle, jiraId, startTime, systemAdmins, openingDescription } = useSelector(store => selectOpeningInfo(store).data)\n\n    const inside = isInside ? `**ВНУТРЕННИЙ**\\n` : ''\n    const standOut = stand ? `${stand} ` : ''\n    const qualitiesOut = qualities ? `${qualities}` : ''\n    const person = staffPerson.filter(i => i.selected).map(i => i.userName).join(' ').trim()\n    const printTgTxt = printTg(tg)\n    const hourStart = new Date(Date.parse(startTime)).getHours()\n    const minutesStart = new Date(Date.parse(startTime)).getMinutes()\n\n    const str = (\n        `**FYI**` +\n        `\\n` +\n        `\\n${person}` +\n        `\\n` +\n        `\\n${inside}` +\n        `**Инцидент ОТКРЫТ**` +\n        `\\n**${standOut}${qualitiesOut}**` +\n        `\\n` +\n        `\\n**${openingTitle}**` +\n        `\\n**ТГ:** ${printTgTxt}` +\n        `\\n` +\n        `\\n**Приоритет:** ${priority}` +\n        `\\n**Степень влияния:** ${effect}` +\n        `\\nhttps://jira.crpt.ru/browse/OPS-${jiraId}` +\n        `\\n**Время инцидента:** ${addZero(hourStart)}:${addZero(minutesStart)}` +\n        `\\n**Кто оповещён:** ${systemAdmins}` +\n        `\\n` +\n        `\\n**Примечание:** ${openingDescription}`\n    )\n\n    const copySummary = () => {\n        navigator.clipboard.writeText(str)\n        document.execCommand(\"copy\")\n    }\n\n    return { copySummary }\n}\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,iBAAiB,QAAQ,0BAA0B;AAC5D,SAASC,iBAAiB,QAAQ,0BAA0B;AAC5D,SAASC,OAAO,EAAEC,OAAO,QAAQ,0BAA0B;AAE3D,OAAO,MAAMC,YAAY,GAAGA,CAACC,WAAW,EAAEC,KAAK,KAAK;EAAAC,EAAA;EAChD,MAAM;IAAEC,SAAS;IAAEC,KAAK;IAAEC,EAAE;IAAEC,QAAQ;IAAEC;EAAO,CAAC,GAAGb,WAAW,CAACc,KAAK,IAAIb,iBAAiB,CAACa,KAAK,CAAC,CAACC,QAAQ,CAAC;EAC1G,MAAM;IAAEC,QAAQ;IAAEC,YAAY;IAAEC,MAAM;IAAEC,SAAS;IAAEC,YAAY;IAAEC;EAAmB,CAAC,GAAGrB,WAAW,CAACc,KAAK,IAAIZ,iBAAiB,CAACY,KAAK,CAAC,CAACQ,IAAI,CAAC;EAE3I,MAAMC,MAAM,GAAGP,QAAQ,GAAI,kBAAiB,GAAG,EAAE;EACjD,MAAMQ,QAAQ,GAAGd,KAAK,GAAI,GAAEA,KAAM,GAAE,GAAG,EAAE;EACzC,MAAMe,YAAY,GAAGhB,SAAS,GAAI,GAAEA,SAAU,EAAC,GAAG,EAAE;EACpD,MAAMiB,MAAM,GAAGpB,WAAW,CAACqB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAC,CAACC,GAAG,CAACF,CAAC,IAAIA,CAAC,CAACG,QAAQ,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,CAAC;EACxF,MAAMC,UAAU,GAAG9B,OAAO,CAACO,EAAE,CAAC;EAC9B,MAAMwB,SAAS,GAAG,IAAIC,IAAI,CAACA,IAAI,CAACC,KAAK,CAAClB,SAAS,CAAC,CAAC,CAACmB,QAAQ,CAAC,CAAC;EAC5D,MAAMC,YAAY,GAAG,IAAIH,IAAI,CAACA,IAAI,CAACC,KAAK,CAAClB,SAAS,CAAC,CAAC,CAACqB,UAAU,CAAC,CAAC;EAEjE,MAAMC,GAAG,GACJ,SAAQ,GACR,IAAG,GACH,KAAIf,MAAO,EAAC,GACZ,IAAG,GACH,KAAIH,MAAO,EAAC,GACZ,qBAAoB,GACpB,OAAMC,QAAS,GAAEC,YAAa,IAAG,GACjC,IAAG,GACH,OAAMR,YAAa,IAAG,GACtB,aAAYiB,UAAW,EAAC,GACxB,IAAG,GACH,oBAAmBtB,QAAS,EAAC,GAC7B,0BAAyBC,MAAO,EAAC,GACjC,qCAAoCK,MAAO,EAAC,GAC5C,0BAAyBf,OAAO,CAACgC,SAAS,CAAE,IAAGhC,OAAO,CAACoC,YAAY,CAAE,EAAC,GACtE,uBAAsBnB,YAAa,EAAC,GACpC,IAAG,GACH,qBAAoBC,kBAAmB,EAC3C;EAED,MAAMqB,WAAW,GAAGA,CAAA,KAAM;IACtBC,SAAS,CAACC,SAAS,CAACC,SAAS,CAACJ,GAAG,CAAC;IAClCK,QAAQ,CAACC,WAAW,CAAC,MAAM,CAAC;EAChC,CAAC;EAED,OAAO;IAAEL;EAAY,CAAC;AAC1B,CAAC;AAAAlC,EAAA,CAvCYH,YAAY;EAAA,QAC8BL,WAAW,EAC0BA,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}